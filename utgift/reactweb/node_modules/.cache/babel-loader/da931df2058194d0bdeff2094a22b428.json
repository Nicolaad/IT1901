{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Lotfi\\\\itprosjekt\\\\gr1911\\\\utgift\\\\reactweb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import\"./App.css\";import UtgiftTable from\"./UtgiftTable\";import Child from\"./Child\";import PieChartUtgifter from\"./PieChartUtgifter\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={utgifter:[]};_this.update=_this.update.bind(_assertThisInitialized(_this));_this.post=_this.post.bind(_assertThisInitialized(_this));_this.fisk=_this.fisk.bind(_assertThisInitialized(_this));_this.delete=_this.delete.bind(_assertThisInitialized(_this));_this.deleteAtServer=_this.deleteAtServer.bind(_assertThisInitialized(_this));return _this;}//finn siste id.\n_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.update();}},{key:\"update\",value:function(){var _update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/utgiftlist\").then(function(res){return res.json();}).then(function(utgifter){return _this2.setState({utgifter:utgifter});});case 2:response=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));function update(){return _update.apply(this,arguments);}return update;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var txt1,txt2,txt3;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:txt1=document.getElementById(\"txt1\").value;txt2=document.getElementById(\"txt2\").value;txt3=document.getElementById(\"txt3\").value;_context2.next=5;return fetch(\"http://localhost:8080/utgiftlist\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify([{navn:txt1,pris:txt2,kategori:txt3,id:100}])});case 5:this.update();case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function post(){return _post.apply(this,arguments);}return post;}()},{key:\"deleteAtServer\",value:function(){var _deleteAtServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:8080/utgiftlist/\"+id,{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}// body: JSON.stringify([{ pris: 2000 }])\n});case 2:case\"end\":return _context3.stop();}}},_callee3);}));function deleteAtServer(_x){return _deleteAtServer.apply(this,arguments);}return deleteAtServer;}()},{key:\"delete\",value:function _delete(id){console.log(id);this.setState(function(prevState){return{utgifter:prevState.utgifter.filter(function(el){return el.id!=id;})};});console.log(this.state.utgifter);this.deleteAtServer(id);}},{key:\"fisk\",value:function fisk(){return React.createElement(\"label\",null,\"fisk\");}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\" Utgifter\"),React.createElement(UtgiftTable,{utgifter:this.state.utgifter,delete:this.delete}),React.createElement(PieChartUtgifter,{utgifter:this.state.utgifter}),React.createElement(\"label\",null,\"Navn: \"),React.createElement(\"input\",{type:\"text\",id:\"txt1\"}),React.createElement(\"label\",null,\"Pris: \"),React.createElement(\"input\",{type:\"text\",id:\"txt2\"}),React.createElement(\"label\",null,\"Kategori: \"),React.createElement(\"input\",{type:\"text\",id:\"txt3\"}),React.createElement(\"button\",{onClick:this.post},\"Post\"));}}]);return App;}(React.Component);//   <button onClick={this.update}>Update</button>\n//  <Child delete={this.delete} utgifter={this.state.utgifter} />\nexport{App as default};","map":{"version":3,"sources":["C:/Users/Lotfi/itprosjekt/gr1911/utgift/reactweb/src/App.js"],"names":["React","UtgiftTable","Child","PieChartUtgifter","App","props","state","utgifter","update","bind","post","fisk","delete","deleteAtServer","fetch","then","res","json","setState","response","txt1","document","getElementById","value","txt2","txt3","method","headers","Accept","body","JSON","stringify","navn","pris","kategori","id","console","log","prevState","filter","el","Component"],"mappings":"2nCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,C,GAEqBC,CAAAA,G,yEACjB,aAAYC,KAAZ,CAAmB,qCACf,qEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,EAAZ,CAAb,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CACA,MAAKC,IAAL,CAAY,MAAKA,IAAL,CAAUD,IAAV,+BAAZ,CACA,MAAKE,IAAL,CAAY,MAAKA,IAAL,CAAUF,IAAV,+BAAZ,CACA,MAAKG,MAAL,CAAc,MAAKA,MAAL,CAAYH,IAAZ,+BAAd,CACA,MAAKI,cAAL,CAAsB,MAAKA,cAAL,CAAoBJ,IAApB,+BAAtB,CAPe,aAQlB,CACD;6EACoB,CAChB,KAAKD,MAAL,GACH,C,2RAE0BM,CAAAA,KAAK,CAAC,aAAD,CAAL,CAClBC,IADkB,CACb,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADU,EAElBF,IAFkB,CAEb,SAAAR,QAAQ,QAAI,CAAA,MAAI,CAACW,QAAL,CAAc,CAAEX,QAAQ,CAARA,QAAF,CAAd,CAAJ,EAFK,C,QAAjBY,Q,6YAMFC,I,CAAOC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,K,CACvCC,I,CAAOH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,K,CACvCE,I,CAAOJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,K,wBACrCT,CAAAA,KAAK,CAAC,kCAAD,CAAqC,CAC5CY,MAAM,CAAE,MADoC,CAE5CC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAFmC,CAO5CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,CAAEC,IAAI,CAAEZ,IAAR,CAAca,IAAI,CAAET,IAApB,CAA0BU,QAAQ,CAAET,IAApC,CAA0CU,EAAE,CAAE,GAA9C,CADiB,CAAf,CAPsC,CAArC,C,QAYX,KAAK3B,MAAL,G,0QAGiB2B,E,6IACXrB,CAAAA,KAAK,CAAC,oCAAsCqB,EAAvC,CAA2C,CAClDT,MAAM,CAAE,QAD0C,CAElDC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAIT;AANkD,CAA3C,C,sMAURO,E,CAAI,CACPC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACA,KAAKjB,QAAL,CAAc,SAAAoB,SAAS,QAAK,CACxB/B,QAAQ,CAAE+B,SAAS,CAAC/B,QAAV,CAAmBgC,MAAnB,CAA0B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACL,EAAH,EAASA,EAAb,EAA5B,CADc,CAAL,EAAvB,EAGAC,OAAO,CAACC,GAAR,CAAY,KAAK/B,KAAL,CAAWC,QAAvB,EACA,KAAKM,cAAL,CAAoBsB,EAApB,EACH,C,mCAEM,CACH,MAAO,yCAAP,CACH,C,uCAEQ,CACL,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,0CADJ,CAEI,oBAAC,WAAD,EACI,QAAQ,CAAE,KAAK7B,KAAL,CAAWC,QADzB,CAEI,MAAM,CAAE,KAAKK,MAFjB,EAFJ,CAMI,oBAAC,gBAAD,EAAkB,QAAQ,CAAE,KAAKN,KAAL,CAAWC,QAAvC,EANJ,CAOI,0CAPJ,CAQI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,EARJ,CASI,0CATJ,CAUI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,EAVJ,CAWI,8CAXJ,CAYI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,EAZJ,CAaI,8BAAQ,OAAO,CAAE,KAAKG,IAAtB,SAbJ,CADJ,CAiBH,C,iBAjF4BV,KAAK,CAACyC,S,EAoFvC;AACA;OArFqBrC,G","sourcesContent":["import React from \"react\";\r\nimport \"./App.css\";\r\nimport UtgiftTable from \"./UtgiftTable\";\r\nimport Child from \"./Child\";\r\nimport PieChartUtgifter from \"./PieChartUtgifter\";\r\n\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { utgifter: [] };\r\n        this.update = this.update.bind(this);\r\n        this.post = this.post.bind(this);\r\n        this.fisk = this.fisk.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n        this.deleteAtServer = this.deleteAtServer.bind(this);\r\n    }\r\n    //finn siste id.\r\n    componentDidMount() {\r\n        this.update();\r\n    }\r\n    async update() {\r\n        const response = await fetch(\"/utgiftlist\")\r\n            .then(res => res.json())\r\n            .then(utgifter => this.setState({ utgifter }));\r\n    }\r\n\r\n    async post() {\r\n        let txt1 = document.getElementById(\"txt1\").value;\r\n        let txt2 = document.getElementById(\"txt2\").value;\r\n        let txt3 = document.getElementById(\"txt3\").value;\r\n        await fetch(\"http://localhost:8080/utgiftlist\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n\r\n            body: JSON.stringify([\r\n                { navn: txt1, pris: txt2, kategori: txt3, id: 100 }\r\n            ])\r\n        });\r\n\r\n        this.update();\r\n    }\r\n\r\n    async deleteAtServer(id) {\r\n        await fetch(\"http://localhost:8080/utgiftlist/\" + id, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n            // body: JSON.stringify([{ pris: 2000 }])\r\n        });\r\n    }\r\n\r\n    delete(id) {\r\n        console.log(id);\r\n        this.setState(prevState => ({\r\n            utgifter: prevState.utgifter.filter(el => el.id != id)\r\n        }));\r\n        console.log(this.state.utgifter);\r\n        this.deleteAtServer(id);\r\n    }\r\n\r\n    fisk() {\r\n        return <label>fisk</label>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <h1> Utgifter</h1>\r\n                <UtgiftTable\r\n                    utgifter={this.state.utgifter}\r\n                    delete={this.delete}\r\n                />\r\n                <PieChartUtgifter utgifter={this.state.utgifter} />\r\n                <label>Navn: </label>\r\n                <input type=\"text\" id=\"txt1\" />\r\n                <label>Pris: </label>\r\n                <input type=\"text\" id=\"txt2\" />\r\n                <label>Kategori: </label>\r\n                <input type=\"text\" id=\"txt3\" />\r\n                <button onClick={this.post}>Post</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//   <button onClick={this.update}>Update</button>\r\n//  <Child delete={this.delete} utgifter={this.state.utgifter} />\r\n"]},"metadata":{},"sourceType":"module"}